<?php /*a:1:{s:35:"/opt/App/Views/admin/index/add.html";i:1531986555;}*/ ?>
<!DOCTYPE html>
<html>
<head>
  <meta charset="UTF-8">
  <!-- import CSS -->
  <link rel="stylesheet" href="https://unpkg.com/element-ui/lib/theme-chalk/index.css">
  <script src="http://libs.baidu.com/jquery/2.0.0/jquery.min.js"></script><link href="/themes/default/css/umeditor.css" type="text/css" rel="stylesheet">
  <script type="text/javascript" src="/third-party/jquery.min.js"></script>
  <script type="text/javascript" charset="utf-8" src="/umeditor.config.js"></script>
  <script type="text/javascript" charset="utf-8" src="/umeditor.min.js"></script>
  <script type="text/javascript" src="/lang/zh-cn/zh-cn.js"></script>
  <style type="text/css">
    h1{
      font-family: "微软雅黑";
      font-weight: normal;
    }
    .btn {
      display: inline-block;
      *display: inline;
      padding: 4px 12px;
      margin-bottom: 0;
      *margin-left: .3em;
      font-size: 14px;
      line-height: 20px;
      color: #333333;
      text-align: center;
      text-shadow: 0 1px 1px rgba(255, 255, 255, 0.75);
      vertical-align: middle;
      cursor: pointer;
      background-color: #f5f5f5;
      *background-color: #e6e6e6;
      background-image: -moz-linear-gradient(top, #ffffff, #e6e6e6);
      background-image: -webkit-gradient(linear, 0 0, 0 100%, from(#ffffff), to(#e6e6e6));
      background-image: -webkit-linear-gradient(top, #ffffff, #e6e6e6);
      background-image: -o-linear-gradient(top, #ffffff, #e6e6e6);
      background-image: linear-gradient(to bottom, #ffffff, #e6e6e6);
      background-repeat: repeat-x;
      border: 1px solid #cccccc;
      *border: 0;
      border-color: #e6e6e6 #e6e6e6 #bfbfbf;
      border-color: rgba(0, 0, 0, 0.1) rgba(0, 0, 0, 0.1) rgba(0, 0, 0, 0.25);
      border-bottom-color: #b3b3b3;
      -webkit-border-radius: 4px;
      -moz-border-radius: 4px;
      border-radius: 4px;
      filter: progid:DXImageTransform.Microsoft.gradient(startColorstr='#ffffffff', endColorstr='#ffe6e6e6', GradientType=0);
      filter: progid:DXImageTransform.Microsoft.gradient(enabled=false);
      *zoom: 1;
      -webkit-box-shadow: inset 0 1px 0 rgba(255, 255, 255, 0.2), 0 1px 2px rgba(0, 0, 0, 0.05);
      -moz-box-shadow: inset 0 1px 0 rgba(255, 255, 255, 0.2), 0 1px 2px rgba(0, 0, 0, 0.05);
      box-shadow: inset 0 1px 0 rgba(255, 255, 255, 0.2), 0 1px 2px rgba(0, 0, 0, 0.05);
    }

    .btn:hover,
    .btn:focus,
    .btn:active,
    .btn.active,
    .btn.disabled,
    .btn[disabled] {
      color: #333333;
      background-color: #e6e6e6;
      *background-color: #d9d9d9;
    }

    .btn:active,
    .btn.active {
      background-color: #cccccc \9;
    }

    .btn:first-child {
      *margin-left: 0;
    }

    .btn:hover,
    .btn:focus {
      color: #333333;
      text-decoration: none;
      background-position: 0 -15px;
      -webkit-transition: background-position 0.1s linear;
      -moz-transition: background-position 0.1s linear;
      -o-transition: background-position 0.1s linear;
      transition: background-position 0.1s linear;
    }

    .btn:focus {
      outline: thin dotted #333;
      outline: 5px auto -webkit-focus-ring-color;
      outline-offset: -2px;
    }

    .btn.active,
    .btn:active {
      background-image: none;
      outline: 0;
      -webkit-box-shadow: inset 0 2px 4px rgba(0, 0, 0, 0.15), 0 1px 2px rgba(0, 0, 0, 0.05);
      -moz-box-shadow: inset 0 2px 4px rgba(0, 0, 0, 0.15), 0 1px 2px rgba(0, 0, 0, 0.05);
      box-shadow: inset 0 2px 4px rgba(0, 0, 0, 0.15), 0 1px 2px rgba(0, 0, 0, 0.05);
    }

    .btn.disabled,
    .btn[disabled] {
      cursor: default;
      background-image: none;
      opacity: 0.65;
      filter: alpha(opacity=65);
      -webkit-box-shadow: none;
      -moz-box-shadow: none;
      box-shadow: none;
    }
  </style>
  <style>
    .el-col {
      line-height: 20px;
      height: 40px;
      border-radius: 4px;
    }
    .el-select{
      height: 20px;
    }
    .el-header, .el-footer {
      background-color: #CCFFCC;
      color: #333;
      text-align: center;
      line-height: 60px;
    }

    .el-aside {
      background-color: #D3DCE6;
      color: #333;
      text-align: center;
      line-height: 200px;
    }

    .el-main {
      background-color: #E9EEF3;
      color: #333;
    <!--text-align: center;-->
      /*line-height: 20px;*/
    }

  </style>
</head>
<body>
<div id="app">
  <!--<el-container style="position:absolute; left:0; top:0; width:100%;height:100%;">-->

      <el-container style="position:absolute; left:0; top:0; width:100%;height:100%;">
        <el-header>淙淙的个人后台</el-header>
        <el-container>
          <el-aside width="200px">


            <el-menu
                    default-active="/admin/index/index"
                    class="el-menu-vertical-demo"
                    @open="handleOpen"
                    @close="handleClose"
                    @select="url"
            >
              <el-menu-item index="/admin/index/index">
                <i class="el-icon-menu"></i>
                <span slot="title">内容</span>
              </el-menu-item>
              <el-menu-item index="/admin/type/index">
                <i class="el-icon-menu"></i>
                <span slot="title" @click="url('user/')">分类</span>
              </el-menu-item>
              <el-menu-item index="/admin/log/index">
                <i class="el-icon-menu"></i>
                <span slot="title">日记</span>
              </el-menu-item>
              <el-menu-item index="/admin/about/index">
                <i class="el-icon-menu"></i>
                <span slot="title">简介</span>
              </el-menu-item>
            </el-menu>
            </el-col>


          </el-aside>
          <el-container>
            <el-main>
              <el-col :span="6"><el-input v-model="title" placeholder="标题"></el-input></el-col><br/><br/>
              <el-col :span="6"><el-input v-model="content" placeholder="详情"></el-input></el-col><br/><br/>
              <!--<el-col :span="6"><el-input v-model="sort_id" placeholder="排序id"></el-input></el-col><br/><br/>-->
              <el-col :span="24" style="height:480px;"> <!--style给定宽度可以影响编辑器的最终宽度-->
              <script type="text/plain" id="myEditor" style="width:100%;height:360px;">
                <p>这里我可以写一些输入提示</p>
              </script></el-col><br/>
              <el-col :span="6"><el-input v-model="user_view" placeholder="点击数"></el-input></el-col><br/><br/>
              <!--<el-col :span="6"><el-input v-model="tag" placeholder="标签"></el-input></el-col><br/><br/>-->
              <el-col :span="6"><el-input v-model="is_del" placeholder="是否删除"></el-input></el-col><br/><br/>
              <!--<el-col :span="6"><el-input v-model="is_top" placeholder="是否置顶"></el-input></el-col><br/><br/>-->
              <el-col :span="6"><el-input v-model="type_id" placeholder="分类"></el-input></el-col><br/><br/>
              <!--<el-select v-model="value" placeholder="请选择分类">-->
                <!--<el-option-->
                        <!--v-for="item in options"-->
                        <!--:key="item.value"-->
                        <!--:label="item.label"-->
                        <!--:value="item.value">-->
                <!--</el-option>-->
              </el-select>
              <el-col :span="6"><el-input v-model="pic" placeholder="封面"></el-input></el-col>

              <el-button v-on:click="check">默认按钮</el-button>
            </el-main>
            <el-footer>ccong版权</el-footer>
          </el-container>
        </el-container>
      </el-container>


</div>
</body>
<!-- import Vue before Element -->
<script src="https://unpkg.com/vue/dist/vue.js"></script>
<!-- import JavaScript -->
<script src="https://unpkg.com/element-ui/lib/index.js"></script>
<script>

  $(function () {

      //实例化编辑器
      UM.getEditor('myEditor') ;
  })
    new Vue({
        el: '#app',
        data:
            {
                title :"",
                content :"",
                // sort_id :"",
                user_view :"",
                // tag :"",
                is_del :"",
                // is_top :"",
                type_id :"",
                pic :""

                // options: [{
                //     value: '选项1',
                //     label: '黄金糕'
                // }, {
                //     value: '选项2',
                //     label: '双皮奶'
                // }, {
                //     value: '选项3',
                //     label: '蚵仔煎'
                // }, {
                //     value: '选项4',
                //     label: '龙须面'
                // }, {
                //     value: '选项5',
                //     label: '北京烤鸭'
                // }],
                // value: ''
            },
        methods: {
            handleOpen(key, keyPath) {
                console.log(key, keyPath);
            },
            handleClose(key, keyPath) {
                console.log(key, keyPath);
            },
            url(key, keyPath) {
                window.location.href = key;
                console.log(key, keyPath);
            },
            check : function(event){
                this.content = UM.getEditor('myEditor').getContentTxt()
                //获取值
                var title = this.title;
                var content = this.content;
                // var sort_id = this.sort_id;
                var user_view = this.user_view;
                // var tag = this.tag;
                var is_del = this.is_del;
                // var is_top = this.is_top;
                var type_id = this.type_id;
                var pic = this.pic;

                $.ajax({
                    url : '/admin/index/add',
                    type : 'post',
                    data : {
                         title : title,
                         content : content,
                         // sort_id : sort_id,
                        user_view : user_view,
                         // tag : tag,
                         is_del : is_del,
                         // is_top : is_top,
                         type_id : type_id,
                         pic : pic
                    },
                    success : function(data) {
                        var result = data.result;
                        if(result == 'true' || result == true){
                            alert("新建成功");
                            window.location.href = "/admin/index/index";
                        }else {
                            alert("新建失败");
                        }
                    },
                    error : function(data) {
                        alert(data);
                    },
                    dataType : 'json'
                })
            }
        }
    })
</script>
</html>